---
name: preprocess_workspace
description: >
  This workflow will move data from workspace into the inbox folder.
enabled: true
runner_type: orquesta
entry_point: workflows/preprocess_workspace.yaml
pack: ductus
parameters:
  context:
    default: {}
    immutable: true
    type: object
  workflow:
    default: ductus.preprocess_workspace
    immutable: true
    type: string
  runfolder:
    required: true
    type: string
  runfolder_host:
    required: true
    type: string
    default: "{{ config_context.workspace_runfolder_service_address }}"
  runfolder_host_port:
    required: true
    type: string
    default: "{{ config_context.workspace_runfolder_service_port }}"
  demultiplexing_host:
    required: true
    type: string
    default: "{{ config_context.workspace_demultiplexing_service_address }}"
  demultiplexing_host_port:
    required: true
    type: string
    default: "{{ config_context.workspace_demultiplexing_service_port }}"
  demultiplexing_output_folder:
    required: true
    type: string
    default: "{{ config_context.demultiplexing_output_folder }}"
  api_version:
    required: true
    type: string
    default: "{{ config_context.workspace_runfolder_api_version }}"
  storage_path_runfolder:
    required: true
    type: string
    default: "{{ config_context.preprocess_storage_path_runfolder }}"
  storage_path_fastq:
    required: true
    type: string
    default: "{{ config_context.preprocess_storage_path_fastq }}"
  mail_bioinfo:
    required: true
    type: string
    default: "{{ config_context.notification_mail_bioinfo }}"
  check_demultiplexing_completed_delay:
    required: true
    type: integer
    default: "{{ config_context.check_demultiplexing_completed_delay }}"
  num_check_demultiplexing_completed:
    required: true
    type: integer
    default: "{{ config_context.num_check_demultiplexing_completed }}"
  check_demultiplexing_retry_delay:
    required: true
    type: integer
    default: "{{ config_context.check_demultiplexing_retry_delay }}"
  path_fastq_and_complete_file:
    required: true
    type: array
    default: "{{ config_context.fastq_complete_file_dict }}"
  transfer_to_host:
    required: true
    type: string
    default: "{{ config_context.preprocess_transfer_ip }}"
  transfer_key:
    required: true
    type: string
    default: "{{ config_context.preprocess_transfer_key }}"
  transfer_user:
    required: true
    type: string
    default: "{{ config_context.preprocess_transfer_user }}"
